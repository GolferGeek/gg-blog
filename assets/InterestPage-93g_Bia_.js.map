{"version":3,"file":"InterestPage-93g_Bia_.js","sources":["../../node_modules/@mui/icons-material/esm/Search.js","../../src/components/PostCard.jsx","../../src/components/InterestPage.jsx"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14\"\n}), 'Search');","import { Link, useNavigate } from 'react-router-dom'\nimport { format } from 'date-fns'\nimport { useState, useEffect } from 'react'\nimport { supabase } from '../lib/supabase'\nimport { useAuth } from '../contexts/AuthContext'\nimport ConfirmModal from './ConfirmModal'\nimport { Paper, Typography, Button, Box, Chip, Stack } from '@mui/material'\n\nfunction PostCard({ post, onDelete }) {\n  const { user } = useAuth()\n  const navigate = useNavigate()\n  const [showDeleteModal, setShowDeleteModal] = useState(false)\n  const [firstImage, setFirstImage] = useState(null)\n  const isAuthor = user && user.id === post.user_id\n\n  const extractFirstImageFromContent = (content) => {\n    if (!content) return null\n    const imageRegex = /!\\[.*?\\]\\((.*?)\\)/\n    const match = content.match(imageRegex)\n    return match ? match[1] : null\n  }\n\n  useEffect(() => {\n    const contentImage = extractFirstImageFromContent(post.content)\n    if (contentImage) {\n      setFirstImage(contentImage)\n    }\n  }, [post.content])\n\n  async function handleDelete() {\n    try {\n      const { error: imageError } = await supabase\n        .from('images')\n        .delete()\n        .eq('post_id', post.id)\n\n      if (imageError) throw imageError\n\n      const { error: postError } = await supabase\n        .from('posts')\n        .delete()\n        .eq('id', post.id)\n\n      if (postError) throw postError\n      \n      if (onDelete) {\n        onDelete(post.id)\n      }\n      setShowDeleteModal(false)\n    } catch (error) {\n      console.error('Error deleting post:', error)\n      alert('Error deleting post. Please try again.')\n    }\n  }\n\n  const getDefaultImage = () => {\n    const category = post.interests?.[0]?.toLowerCase()\n    switch(category) {\n      case 'coder':\n        return '/images/coder.jpg'\n      case 'golfer':\n        return '/images/golfer.jpg'\n      case 'mentor':\n        return '/images/mentor.jpg'\n      case 'aging':\n        return '/images/aging.jpg'\n      default:\n        return '/images/coder.jpg'\n    }\n  }\n\n  return (\n    <>\n      <Paper \n        elevation={3}\n        sx={{\n          p: 2,\n          width: '100%',\n        }}\n      >\n        <Box sx={{ display: 'flex', gap: 3 }}>\n          {/* Thumbnail */}\n          <Box\n            component=\"img\"\n            src={firstImage || getDefaultImage()}\n            alt={post.title}\n            sx={{\n              width: 150,\n              height: 150,\n              objectFit: 'cover',\n              borderRadius: 1,\n              flexShrink: 0\n            }}\n          />\n\n          {/* Content */}\n          <Box sx={{ flex: 1, display: 'flex', flexDirection: 'column' }}>\n            {/* Header */}\n            <Box sx={{ mb: 1 }}>\n              <Typography \n                variant=\"h6\" \n                component={Link} \n                to={`/post/${post.id}`}\n                sx={{ \n                  textDecoration: 'none',\n                  color: 'text.primary',\n                  '&:hover': {\n                    color: 'primary.main',\n                  }\n                }}\n              >\n                {post.title}\n              </Typography>\n              \n              <Box sx={{ display: 'flex', gap: 2, alignItems: 'center', mt: 0.5 }}>\n                <Stack direction=\"row\" spacing={1}>\n                  {post.interests.map(interest => (\n                    <Chip\n                      key={interest}\n                      label={interest}\n                      size=\"small\"\n                      color=\"primary\"\n                      variant=\"outlined\"\n                    />\n                  ))}\n                </Stack>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  {format(new Date(post.created_at), 'MMMM d, yyyy')}\n                </Typography>\n              </Box>\n            </Box>\n\n            {/* Excerpt */}\n            <Typography \n              variant=\"body2\" \n              color=\"text.secondary\"\n              sx={{ \n                mb: 2,\n                display: '-webkit-box',\n                WebkitLineClamp: 2,\n                WebkitBoxOrient: 'vertical',\n                overflow: 'hidden',\n                textOverflow: 'ellipsis'\n              }}\n            >\n              {post.excerpt}\n            </Typography>\n\n            {/* Actions */}\n            <Box \n              sx={{ \n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'center',\n                mt: 'auto'\n              }}\n            >\n              <Button\n                component={Link}\n                to={`/post/${post.id}`}\n                variant=\"contained\"\n                color=\"primary\"\n                size=\"small\"\n              >\n                Read More\n              </Button>\n              \n              {isAuthor && (\n                <Stack direction=\"row\" spacing={1}>\n                  <Button\n                    onClick={() => navigate(`/edit/${post.id}`)}\n                    variant=\"outlined\"\n                    color=\"primary\"\n                    size=\"small\"\n                  >\n                    Edit\n                  </Button>\n                  <Button\n                    onClick={() => setShowDeleteModal(true)}\n                    variant=\"outlined\"\n                    color=\"error\"\n                    size=\"small\"\n                  >\n                    Delete\n                  </Button>\n                </Stack>\n              )}\n            </Box>\n          </Box>\n        </Box>\n      </Paper>\n\n      <ConfirmModal\n        open={showDeleteModal}\n        onClose={() => setShowDeleteModal(false)}\n        onConfirm={handleDelete}\n        title=\"Delete Post\"\n        message=\"Are you sure you want to delete this post? This action cannot be undone.\"\n      />\n    </>\n  )\n}\n\nexport default PostCard","import { useState, useEffect } from 'react'\nimport { supabase } from '../lib/supabase'\nimport { \n  Container,\n  Typography,\n  Box,\n  TextField,\n  InputAdornment,\n  CircularProgress,\n  Stack,\n  Paper,\n  Button\n} from '@mui/material'\nimport { Search as SearchIcon } from '@mui/icons-material'\nimport PostCard from './PostCard'\n\nfunction InterestPage({ category, title }) {\n  const [posts, setPosts] = useState([])\n  const [searchTerm, setSearchTerm] = useState('')\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    fetchPosts()\n  }, [searchTerm, category])\n\n  async function fetchPosts() {\n    try {\n      setLoading(true)\n      let query = supabase\n        .from('posts')\n        .select('*')\n        .contains('interests', [category])\n        .order('created_at', { ascending: false })\n\n      if (searchTerm) {\n        query = query.ilike('title', `%${searchTerm}%`)\n        query = query.limit(10)\n      } else {\n        query = query.limit(4)\n      }\n\n      const { data, error } = await query\n      if (error) throw error\n      setPosts(data)\n    } catch (error) {\n      console.error('Error fetching posts:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handlePostDelete = async (postId) => {\n    setPosts(posts.filter(post => post.id !== postId))\n  }\n\n  const getHeroImage = () => {\n    switch(category) {\n      case 'coder':\n        return '/images/coder.jpg'\n      case 'golfer':\n        return '/images/golfer.jpg'\n      case 'mentor':\n        return '/images/mentor.jpg'\n      case 'aging':\n        return '/images/aging.jpg'\n      default:\n        return '/images/coder.jpg'\n    }\n  }\n\n  const getDescription = () => {\n    switch(category) {\n      case 'coder':\n        return 'Exploring the world of programming and software development'\n      case 'golfer':\n        return 'Sharing golf experiences, tips, and achievements'\n      case 'mentor':\n        return 'Guiding and supporting others in their journey'\n      case 'aging':\n        return 'Insights and reflections on the aging process'\n      default:\n        return ''\n    }\n  }\n\n  return (\n    <Box>\n      {/* Hero Section */}\n      <Box sx={{ mb: 6 }}>\n        <Box \n          sx={{\n            position: 'relative',\n            height: '300px',\n            overflow: 'hidden',\n          }}\n        >\n          <Box\n            component=\"img\"\n            src={getHeroImage()}\n            alt={title}\n            sx={{\n              width: '100%',\n              height: '100%',\n              objectFit: 'cover',\n            }}\n          />\n        </Box>\n        <Box\n          sx={{\n            textAlign: 'center',\n            bgcolor: 'background.paper',\n            py: 4\n          }}\n        >\n          <Typography variant=\"h2\" component=\"h1\" gutterBottom>\n            {title}\n          </Typography>\n          <Typography variant=\"h5\" component=\"p\" sx={{ maxWidth: '800px', mx: 'auto' }}>\n            {getDescription()}\n          </Typography>\n        </Box>\n      </Box>\n\n      {/* Search Section */}\n      <Container maxWidth=\"lg\">\n        <Paper elevation={3} sx={{ p: 4, mb: 4 }}>\n          <TextField\n            fullWidth\n            variant=\"outlined\"\n            placeholder=\"Search posts...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon />\n                </InputAdornment>\n              ),\n            }}\n            sx={{ mb: 2 }}\n          />\n          \n          {loading ? (\n            <Box sx={{ display: 'flex', justifyContent: 'center', p: 4 }}>\n              <CircularProgress />\n            </Box>\n          ) : posts.length > 0 ? (\n            <Stack spacing={4}>\n              {posts.map(post => (\n                <Box key={post.id}>\n                  <PostCard post={post} onDelete={handlePostDelete} />\n                </Box>\n              ))}\n            </Stack>\n          ) : (\n            <Box sx={{ textAlign: 'center', py: 4 }}>\n              <Typography variant=\"h6\" color=\"text.secondary\" gutterBottom>\n                No posts found\n              </Typography>\n              <Typography color=\"text.secondary\" paragraph>\n                Try adjusting your search or check back later for new content.\n              </Typography>\n            </Box>\n          )}\n        </Paper>\n      </Container>\n    </Box>\n  )\n}\n\nexport default InterestPage"],"names":["SearchIcon","createSvgIcon","_jsx","PostCard","post","onDelete","user","useAuth","navigate","useNavigate","showDeleteModal","setShowDeleteModal","useState","firstImage","setFirstImage","isAuthor","extractFirstImageFromContent","content","imageRegex","match","useEffect","contentImage","handleDelete","imageError","supabase","postError","error","getDefaultImage","_b","_a","jsxs","Fragment","jsx","Paper","Box","Typography","Link","Stack","interest","Chip","format","Button","ConfirmModal","InterestPage","category","title","posts","setPosts","searchTerm","setSearchTerm","loading","setLoading","fetchPosts","query","data","handlePostDelete","postId","getHeroImage","getDescription","Container","TextField","e","InputAdornment","CircularProgress"],"mappings":"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","x_google_ignoreList":[0]}