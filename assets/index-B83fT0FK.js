const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-xX2QmsiZ.js","assets/vendor-BfW8ubqa.js","assets/editor-By8XcRZL.js","assets/editor-Ch1M4OpB.css","assets/supabase-CI9plm6Z.js","assets/Login-CFF-rtek.js","assets/SignUp-DO-qqzpp.js","assets/ViewPost-xrpSGXgJ.js","assets/ConfirmModal-DRDLS1sq.js","assets/Delete-BImv3mU7.js","assets/Edit-Dqkav3Zm.js","assets/CreatePost-BFer5TVK.js","assets/ImageUpload-BsZxGHGd.js","assets/EditPost-BRLOdZDO.js","assets/ManageInterests-CwRiVefF.js","assets/Resume-BAH_Cf_B.js","assets/InterestPage-BiEubOH6.js"])))=>i.map(i=>d[i]);
import{d as M,r,j as e,e as P,T as z,C as S,N as k,f as T,A as L,h as R,i as A,k as b,L as x,B as j,I as N,M as B,l as D,m as f,n as G,o as V,p as h}from"./vendor-BfW8ubqa.js";import{c as q,_ as g}from"./supabase-CI9plm6Z.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))u(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&u(a)}).observe(document,{childList:!0,subtree:!0});function t(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function u(o){if(o.ep)return;o.ep=!0;const n=t(o);fetch(o.href,n)}})();var _,y=M;_=y.createRoot,y.hydrateRoot;const I="https://wwltthgziqcmyduqphbq.supabase.co",C="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind3bHR0aGd6aXFjbXlkdXFwaGJxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzE1OTY4NzQsImV4cCI6MjA0NzE3Mjg3NH0.qB01bs7MLXKeqEhixNWw1sOs5MjplPzjuIOOEGnjKqg";console.log(I,C);const p=q(I,C),E=r.createContext({});function J({children:d}){const[l,t]=r.useState(null),[u,o]=r.useState(!0);r.useEffect(()=>{p.auth.getSession().then(({data:{session:c}})=>{t((c==null?void 0:c.user)??null),o(!1)});const{data:{subscription:a}}=p.auth.onAuthStateChange((c,i)=>{t((i==null?void 0:i.user)??null)});return()=>a.unsubscribe()},[]);const n={signUp:a=>p.auth.signUp(a),signIn:a=>p.auth.signInWithPassword(a),signOut:()=>p.auth.signOut(),user:l};return e.jsx(E.Provider,{value:n,children:!u&&d})}const w=()=>r.useContext(E),O=r.createContext();function F(){return r.useContext(O)}function W({children:d}){const[l,t]=r.useState([]),[u,o]=r.useState(!0);r.useEffect(()=>{n()},[]);async function n(){try{console.log("Fetching interests...");const{data:i,error:s}=await p.from("interests").select("*").order("title");if(s)throw console.error("Supabase error:",s),s;console.log("Fetched interests:",i),t(i||[]),o(!1)}catch(i){console.error("Error fetching interests:",i),o(!1)}}async function a(i,s){try{const{error:m}=await p.from("posts").update({tags:s}).eq("id",i);if(m)throw m;return!0}catch(m){return console.error("Error updating post tags:",m),!1}}const c={interests:l,loading:u,updatePostTags:a};return e.jsx(O.Provider,{value:c,children:d})}const X=r.createContext({toggleColorMode:()=>{}});function U({children:d}){const l=window.matchMedia("(prefers-color-scheme: dark)").matches,[t,u]=r.useState(l?"dark":"light");r.useEffect(()=>{const a=window.matchMedia("(prefers-color-scheme: dark)"),c=i=>{u(i.matches?"dark":"light")};return a.addEventListener("change",c),()=>a.removeEventListener("change",c)},[]);const o=r.useMemo(()=>({toggleColorMode:()=>{u(a=>a==="light"?"dark":"light")}}),[]),n=r.useMemo(()=>P({palette:{mode:t,primary:{main:t==="light"?"#7c7157":"#a39778",dark:t==="light"?"#5c543f":"#887e60",light:t==="light"?"#9b8f6e":"#c4b99c"},secondary:{main:t==="light"?"#6b705c":"#8b917d"},background:{default:t==="light"?"#f8f7f4":"#2a2826",paper:t==="light"?"#ffffff":"#353230"},text:{primary:t==="light"?"#433f38":"#e6e2d9",secondary:t==="light"?"#6b6661":"#b5b0a8"},error:{main:t==="light"?"#b56b65":"#c88d88"},warning:{main:t==="light"?"#c4a256":"#d4b87c"},success:{main:t==="light"?"#7c9176":"#96aa90"},divider:t==="light"?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.06)"},components:{MuiAppBar:{styleOverrides:{root:{backgroundColor:t==="light"?"#ffffff":"#353230",color:t==="light"?"#433f38":"#e6e2d9",boxShadow:t==="light"?"0 1px 3px rgba(0,0,0,0.05)":"0 1px 3px rgba(0,0,0,0.2)"}}},MuiButton:{styleOverrides:{root:{textTransform:"none",boxShadow:"none",":hover":{boxShadow:"none"}},contained:{backgroundColor:t==="light"?"#7c7157":"#a39778","&:hover":{backgroundColor:t==="light"?"#5c543f":"#887e60"}}}},MuiCard:{styleOverrides:{root:{borderRadius:8,boxShadow:t==="light"?"0 1px 3px rgba(0,0,0,0.05)":"0 1px 3px rgba(0,0,0,0.2)",border:t==="light"?"1px solid rgba(0,0,0,0.05)":"1px solid rgba(255,255,255,0.05)"}}},MuiPaper:{styleOverrides:{root:{backgroundImage:"none"}}}},typography:{h1:{color:t==="light"?"#433f38":"#e6e2d9"},h2:{color:t==="light"?"#433f38":"#e6e2d9"},h3:{color:t==="light"?"#433f38":"#e6e2d9"},h4:{color:t==="light"?"#433f38":"#e6e2d9"},h5:{color:t==="light"?"#433f38":"#e6e2d9"},h6:{color:t==="light"?"#433f38":"#e6e2d9"},body1:{color:t==="light"?"#57534a":"#d5d0c8"},body2:{color:t==="light"?"#6b6661":"#b5b0a8"}}}),[t]);return e.jsx(X.Provider,{value:o,children:e.jsxs(z,{theme:n,children:[e.jsx(S,{}),d]})})}function v({children:d}){const{user:l}=w();return l?d:e.jsx(k,{to:"/login",replace:!0})}const H=T(e.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu");function K(){const[d,l]=r.useState(null),{user:t,signOut:u}=w(),{interests:o,loading:n}=F();r.useEffect(()=>{o&&console.log("Raw interests data:",JSON.stringify(o,null,2))},[o]);const a=s=>{l(s.currentTarget)},c=()=>{l(null)};if(n)return console.log("Navbar loading..."),null;(!o||o.length===0)&&console.log("No interests available");const i=[...o||[]].sort((s,m)=>(s.sequence||0)-(m.sequence||0)).map(s=>({...s}));return console.log("Processed interests:",i),e.jsx(L,{position:"static",sx:{backgroundColor:"primary.main"},children:e.jsx(R,{maxWidth:"xl",children:e.jsxs(A,{disableGutters:!0,children:[e.jsx(b,{variant:"h6",noWrap:!0,component:x,to:"/",sx:{display:{xs:"none",md:"flex"},fontWeight:700,color:"white",textDecoration:"none",flexGrow:0},children:"GolferGeek"}),e.jsxs(j,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[e.jsx(N,{size:"large","aria-label":"menu","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:a,color:"inherit",children:e.jsx(H,{})}),e.jsx(B,{id:"menu-appbar",anchorEl:d,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:!!d,onClose:c,sx:{display:{xs:"block",md:"none"}},children:i.map(s=>e.jsx(D,{onClick:c,component:x,to:`/${s.name}`,sx:{color:"text.primary"},children:e.jsx(b,{textAlign:"center",children:s.title})},s.id))})]}),e.jsx(b,{variant:"h5",noWrap:!0,component:x,to:"/",sx:{display:{xs:"flex",md:"none"},flexGrow:1,fontWeight:700,color:"white",textDecoration:"none"},children:"GolferGeek"}),e.jsx(j,{sx:{flexGrow:1,display:{xs:"none",md:"flex"},justifyContent:"center",gap:2},children:i.map(s=>e.jsx(f,{component:x,to:`/${s.name}`,sx:{color:"white",textTransform:"none",fontSize:"1rem","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:s.title},s.id))}),e.jsxs(j,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(f,{component:x,to:"/resume",sx:{color:"white",textTransform:"none",fontSize:"1rem","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:"Resume"}),t?e.jsxs(e.Fragment,{children:[e.jsx(f,{component:x,to:"/create",sx:{color:"white",textTransform:"none",fontSize:"1rem","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:"Create"}),e.jsx(f,{component:x,to:"/manage-interests",sx:{color:"white",textTransform:"none",fontSize:"1rem","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:"Manage"}),e.jsx(f,{onClick:u,sx:{color:"white",textTransform:"none",fontSize:"1rem","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:"Sign Out"})]}):e.jsx(f,{component:x,to:"/login",sx:{color:"white",textTransform:"none",fontSize:"1rem","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:"Sign In"})]})]})})})}const Q=r.lazy(()=>g(()=>import("./Home-xX2QmsiZ.js"),__vite__mapDeps([0,1,2,3,4]))),Y=r.lazy(()=>g(()=>import("./Login-CFF-rtek.js"),__vite__mapDeps([5,1,4]))),Z=r.lazy(()=>g(()=>import("./SignUp-DO-qqzpp.js"),__vite__mapDeps([6,1,4]))),$=r.lazy(()=>g(()=>import("./ViewPost-xrpSGXgJ.js"),__vite__mapDeps([7,1,2,3,8,9,10,4]))),ee=r.lazy(()=>g(()=>import("./CreatePost-BFer5TVK.js"),__vite__mapDeps([11,1,2,3,12,9,4]))),te=r.lazy(()=>g(()=>import("./EditPost-BRLOdZDO.js"),__vite__mapDeps([13,1,2,3,12,9,4]))),oe=r.lazy(()=>g(()=>import("./ManageInterests-CwRiVefF.js"),__vite__mapDeps([14,1,2,3,10,9,4]))),re=r.lazy(()=>g(()=>import("./Resume-BAH_Cf_B.js"),__vite__mapDeps([15,1,2,3]))),ne=r.lazy(()=>g(()=>import("./InterestPage-BiEubOH6.js"),__vite__mapDeps([16,1,2,3,8,4])));function se(){return e.jsx(J,{children:e.jsx(W,{children:e.jsx(U,{children:e.jsxs(G,{children:[e.jsx(K,{}),e.jsx("main",{className:"container",children:e.jsx(r.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsxs(V,{children:[e.jsx(h,{path:"/",element:e.jsx(Q,{})}),e.jsx(h,{path:"/login",element:e.jsx(Y,{})}),e.jsx(h,{path:"/signup",element:e.jsx(Z,{})}),e.jsx(h,{path:"/:interest",element:e.jsx(ne,{})}),e.jsx(h,{path:"/post/:id",element:e.jsx($,{})}),e.jsx(h,{path:"/create",element:e.jsx(v,{children:e.jsx(ee,{})})}),e.jsx(h,{path:"/edit/:id",element:e.jsx(v,{children:e.jsx(te,{})})}),e.jsx(h,{path:"/manage-interests",element:e.jsx(v,{children:e.jsx(oe,{})})}),e.jsx(h,{path:"/resume",element:e.jsx(re,{})})]})})})]})})})})}_(document.getElementById("root")).render(e.jsx(r.StrictMode,{children:e.jsx(se,{})}));export{w as a,p as s,F as u};
//# sourceMappingURL=index-B83fT0FK.js.map
