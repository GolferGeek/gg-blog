const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-C5mPq19y.js","assets/vendor-C65ctaoV.js","assets/supabase-Cg6Q1mgr.js","assets/Login-L5xHZXqN.js","assets/SignUp-DUjG_1n-.js","assets/ViewPost-DqLN-as9.js","assets/editor-C7RkKN59.js","assets/editor-Ch1M4OpB.css","assets/format-BzRktsyD.js","assets/Delete-DyDZc2Gn.js","assets/ConfirmModal-o5Z1I_1A.js","assets/CreatePost-B2ZBUrNh.js","assets/MarkdownEditor-Csx3Eh72.js","assets/EditPost-Dc0dxDxj.js","assets/ManageInterests-CjvIyqPi.js","assets/InterestPage-BF4kRYur.js","assets/Search-CITB2S1j.js","assets/UserProfile-Cd1WWB1Y.js","assets/Posts-BQ8O7dYI.js","assets/Resume-Cie0gm_3.js"])))=>i.map(i=>d[i]);
import{d as V,r as t,j as e,u as C,e as G,f as N,T as $,C as q,N as E,h as B,A as W,i as H,B as L,k as v,L as j,I as O,M as J,l as M,m as X,n as K,o as u,p as Y}from"./vendor-C65ctaoV.js";import{c as Z,_ as h}from"./supabase-Cg6Q1mgr.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var F,k=V;F=k.createRoot,k.hydrateRoot;const Q="https://wwltthgziqcmyduqphbq.supabase.co",ee="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind3bHR0aGd6aXFjbXlkdXFwaGJxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzE1OTY4NzQsImV4cCI6MjA0NzE3Mjg3NH0.qB01bs7MLXKeqEhixNWw1sOs5MjplPzjuIOOEGnjKqg",g=Z(Q,ee),T=t.createContext({});function te({children:i}){const[a,n]=t.useState(null),[l,r]=t.useState(!0);t.useEffect(()=>{g.auth.getSession().then(({data:{session:d}})=>{n((d==null?void 0:d.user)??null),r(!1)});const{data:{subscription:s}}=g.auth.onAuthStateChange((d,p)=>{n((p==null?void 0:p.user)??null)});return()=>s.unsubscribe()},[]);const o={signUp:s=>g.auth.signUp(s),signIn:s=>g.auth.signInWithPassword(s),signOut:()=>g.auth.signOut(),user:a};return e.jsx(T.Provider,{value:o,children:!l&&i})}const z=()=>t.useContext(T),R=t.createContext();function re(){return t.useContext(R)}function oe({children:i}){const[a,n]=t.useState([]),[l,r]=t.useState(!0),{username:o}=C(),s="GolferGeek",d=async c=>{if(!c){r(!1);return}try{console.log("Fetching interests for username:",c);const{data:m,error:f}=await g.from("profiles").select("id").ilike("username",c).single();if(f){console.error("Profile fetch error:",f),n([]);return}if(!m){console.error("No profile found for username:",c),n([]);return}console.log("Found profile:",m);const{data:P,error:S}=await g.from("interests").select("*").eq("user_id",m.id).order("sequence",{ascending:!0}).order("title");S?(console.error("Interests fetch error:",S),n([])):(console.log("Fetched interests:",P),n(P||[]))}catch(m){console.error("Unexpected error:",m),n([])}finally{r(!1)}};t.useEffect(()=>{const c=s;r(!0),d(c)},[s,o]);async function p(c,m){try{const{error:f}=await g.from("posts").update({tags:m}).eq("id",c);if(f)throw f;return!0}catch{return!1}}const y={interests:a,loading:l,updatePostTags:p,fetchInterests:d};return e.jsx(R.Provider,{value:y,children:i})}const A=t.createContext();function ne(){return t.useContext(A)}function se({children:i}){const[a,n]=t.useState(null),[l,r]=t.useState(!0),{username:o}=C(),s="GolferGeek";t.useEffect(()=>{d()},[o]);async function d(){try{r(!0);const y=s||o,{data:c,error:m}=await g.from("profiles").select("*").ilike("username",y).single();n(m?null:c)}catch{n(null)}finally{r(!1)}}const p={profile:a,loading:l,fetchProfile:d,isDefaultProfile:o===s};return e.jsx(A.Provider,{value:p,children:i})}const w={typography:{fontFamily:'"Inter", "Roboto", "Helvetica", "Arial", sans-serif',h1:{fontSize:"2.5rem",fontWeight:700,letterSpacing:"-0.01562em",marginBottom:"1rem"},h2:{fontSize:"2rem",fontWeight:600,letterSpacing:"-0.00833em",marginBottom:"0.875rem"},h3:{fontSize:"1.75rem",fontWeight:600,letterSpacing:"0em",marginBottom:"0.75rem"},h4:{fontSize:"1.5rem",fontWeight:600,letterSpacing:"0.00735em",marginBottom:"0.625rem"},h5:{fontSize:"1.25rem",fontWeight:600,letterSpacing:"0em",marginBottom:"0.5rem"},h6:{fontSize:"1.125rem",fontWeight:600,letterSpacing:"0.0075em",marginBottom:"0.5rem"},body1:{fontSize:"1rem",lineHeight:1.6},body2:{fontSize:"0.875rem",lineHeight:1.6}},shape:{borderRadius:8}},x={russet:"#8B4513",maple:"#D2691E",harvest:"#CD853F",sage:"#556B2F",wheat:"#F5DEB3",auburn:"#A0522D"},ae={...w,palette:{mode:"light",primary:{main:x.sage,light:"#6B8E23",dark:"#3B4A1F",contrastText:"#fff"},secondary:{main:x.maple,light:"#FF7F50",dark:"#8B4513",contrastText:"#fff"},background:{default:"#FAF9F6",paper:"#FFFFFF"},text:{primary:x.russet,secondary:x.harvest}},components:{MuiPaper:{styleOverrides:{root:{boxShadow:"0 2px 12px 0 rgba(139, 69, 19, 0.05)",borderRadius:12}}},MuiButton:{styleOverrides:{root:{textTransform:"none",fontWeight:600,borderRadius:8,padding:"8px 20px"},contained:{boxShadow:"none","&:hover":{boxShadow:"0 2px 8px 0 rgba(139, 69, 19, 0.2)"}}}},MuiAppBar:{styleOverrides:{root:{backgroundColor:x.sage}}}}},ie={...w,palette:{mode:"dark",primary:{main:x.maple,light:"#FF7F50",dark:"#8B4513",contrastText:"#fff"},secondary:{main:x.harvest,light:"#DEB887",dark:"#8B5A2B",contrastText:"#fff"},background:{default:"#2C1810",paper:"#3D2317"},text:{primary:x.wheat,secondary:G(x.wheat,.7)}},components:{MuiPaper:{styleOverrides:{root:{boxShadow:"0 2px 12px 0 rgba(0,0,0,0.2)",borderRadius:12,backgroundColor:"#3D2317"}}},MuiButton:{styleOverrides:{root:{textTransform:"none",fontWeight:600,borderRadius:8,padding:"8px 20px"},contained:{boxShadow:"none","&:hover":{boxShadow:"0 2px 8px 0 rgba(0,0,0,0.3)"}}}},MuiAppBar:{styleOverrides:{root:{backgroundColor:"#2C1810"}}}}},D=t.createContext();function ce(){return t.useContext(D)}function le({children:i}){const[a,n]=t.useState(()=>{const s=localStorage.getItem("darkMode");return s?JSON.parse(s):!1});t.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(a))},[a]);const l=()=>{n(s=>!s)},r=t.useMemo(()=>N(a?ie:ae),[a]),o={darkMode:a,toggleDarkMode:l};return e.jsx(D.Provider,{value:o,children:e.jsxs($,{theme:r,children:[e.jsx(q,{}),i]})})}function I({children:i}){const{user:a}=z();return a?i:e.jsx(E,{to:"/login",replace:!0})}const ue=B(e.jsx("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6c3.31 0 6 2.69 6 6s-2.69 6-6 6"}),"Brightness4"),de=B(e.jsx("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6m0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4"}),"Brightness7"),me=B(e.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings");function he(){const{user:i,signOut:a}=z(),{darkMode:n,toggleDarkMode:l}=ce(),{interests:r,loading:o}=re(),{profile:s,loading:d}=ne(),{username:p}=C(),c=p||"GolferGeek",[m,f]=t.useState(null),P=[...r||[]].sort((_,U)=>(_.sequence||0)-(U.sequence||0));if(o||d)return null;const S=_=>{f(_.currentTarget)},b=()=>{f(null)};return e.jsx(W,{position:"static",color:"primary",children:e.jsxs(H,{children:[e.jsxs(L,{sx:{flex:"0 0 auto",display:"flex",alignItems:"center",gap:1},children:[e.jsx(v,{color:"inherit",component:j,to:`/${c}`,sx:{fontFamily:"monospace",letterSpacing:".3rem",textTransform:"none",fontWeight:700,fontSize:"1.2rem","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:(s==null?void 0:s.username)||c}),e.jsx(v,{color:"inherit",component:j,to:`/${c}/resume`,children:"Resume"})]}),e.jsx(L,{sx:{flex:"1 1 auto",display:"flex",justifyContent:"center",alignItems:"center",gap:1,mx:2,overflow:"auto"},children:P.map(_=>e.jsx(v,{color:"inherit",component:j,to:`/${c}/interest/${_.name}`,sx:{whiteSpace:"nowrap"},children:_.title},_.id))}),e.jsxs(L,{sx:{flex:"0 0 auto",display:"flex",alignItems:"center",gap:1},children:[e.jsx(O,{onClick:l,color:"inherit",children:n?e.jsx(de,{}):e.jsx(ue,{})}),i?e.jsxs(e.Fragment,{children:[e.jsx(O,{color:"inherit",onClick:S,"aria-controls":"manage-menu","aria-haspopup":"true",children:e.jsx(me,{})}),e.jsxs(J,{id:"manage-menu",anchorEl:m,keepMounted:!0,open:!!m,onClose:b,children:[e.jsx(M,{component:j,to:`/${c}/manage/posts`,onClick:b,children:"Posts"}),e.jsx(M,{component:j,to:`/${c}/manage/profile`,onClick:b,children:"Profile"}),e.jsx(M,{component:j,to:`/${c}/manage/interests`,onClick:b,children:"Interests"})]}),e.jsx(v,{color:"inherit",onClick:a,children:"Sign Out"})]}):e.jsxs(e.Fragment,{children:[e.jsx(v,{color:"inherit",component:j,to:"/login",children:"Login"}),e.jsx(v,{color:"inherit",component:j,to:"/signup",children:"Sign Up"})]})]})]})})}const pe=t.lazy(()=>h(()=>import("./Home-C5mPq19y.js"),__vite__mapDeps([0,1,2]))),fe=t.lazy(()=>h(()=>import("./Login-L5xHZXqN.js"),__vite__mapDeps([3,1,2]))),ge=t.lazy(()=>h(()=>import("./SignUp-DUjG_1n-.js"),__vite__mapDeps([4,1,2]))),xe=t.lazy(()=>h(()=>import("./ViewPost-DqLN-as9.js"),__vite__mapDeps([5,1,6,7,8,9,10,2]))),je=t.lazy(()=>h(()=>import("./CreatePost-B2ZBUrNh.js"),__vite__mapDeps([11,1,12,9,2]))),_e=t.lazy(()=>h(()=>import("./EditPost-Dc0dxDxj.js"),__vite__mapDeps([13,1,12,9,2,8]))),ye=t.lazy(()=>h(()=>import("./ManageInterests-CjvIyqPi.js"),__vite__mapDeps([14,1,12,9,2]))),ve=t.lazy(()=>h(()=>import("./InterestPage-BF4kRYur.js"),__vite__mapDeps([15,1,10,8,6,7,16,2]))),Ie=t.lazy(()=>h(()=>import("./UserProfile-Cd1WWB1Y.js"),__vite__mapDeps([17,1,12,9,2]))),Pe=t.lazy(()=>h(()=>import("./Posts-BQ8O7dYI.js"),__vite__mapDeps([18,1,9,16,10,2]))),Se=t.lazy(()=>h(()=>import("./Resume-Cie0gm_3.js"),__vite__mapDeps([19,1,6,7,2])));function be({children:i}){const{username:a}=C(),n=Y(),l="GolferGeek";if(n.pathname==="/login"||n.pathname==="/signup"||n.pathname==="/"||n.pathname.split("/").filter(Boolean)[0]===l)return i;if(!a&&!n.pathname.startsWith(`/${l}`)){const o=`/${l}${n.pathname}`;return console.log("Redirecting to:",o),e.jsx(E,{to:o,replace:!0})}return i}function Ee(){const i="GolferGeek";return e.jsx(X,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0,v7_fetcherPersist:!0,v7_normalizeFormMethod:!0,v7_partialHydration:!0,v7_skipActionErrorRevalidation:!0},children:e.jsx(te,{children:e.jsx(le,{children:e.jsx(se,{children:e.jsx(oe,{children:e.jsxs(be,{children:[e.jsx(he,{}),e.jsx("main",{className:"container",children:e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsxs(K,{children:[e.jsx(u,{path:"/",element:e.jsx(E,{to:`/${i}`,replace:!0})}),e.jsx(u,{path:"/login",element:e.jsx(fe,{})}),e.jsx(u,{path:"/signup",element:e.jsx(ge,{})}),e.jsxs(u,{path:"/:username",children:[e.jsx(u,{index:!0,element:e.jsx(pe,{})}),e.jsx(u,{path:"resume",element:e.jsx(Se,{})}),e.jsx(u,{path:"post/:id",element:e.jsx(xe,{})}),e.jsx(u,{path:"interest/:interest",element:e.jsx(ve,{})}),e.jsx(u,{path:"create",element:e.jsx(I,{children:e.jsx(je,{})})}),e.jsx(u,{path:"edit/:id",element:e.jsx(I,{children:e.jsx(_e,{})})}),e.jsx(u,{path:"manage/interests",element:e.jsx(I,{children:e.jsx(ye,{})})}),e.jsx(u,{path:"manage/profile",element:e.jsx(I,{children:e.jsx(Ie,{})})}),e.jsx(u,{path:"manage/posts",element:e.jsx(I,{children:e.jsx(Pe,{})})})]}),e.jsx(u,{path:"*",element:e.jsx(E,{to:`/${i}`,replace:!0})})]})})})]})})})})})})}F(document.getElementById("root")).render(e.jsx(t.StrictMode,{children:e.jsx(Ee,{})}));export{ne as a,z as b,g as s,re as u};
//# sourceMappingURL=index-I0dD487A.js.map
